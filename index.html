<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Vichithra</title>
<style>
    html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden;
        font-family: 'Segoe UI', sans-serif;
        text-align: center;
        background: #fff;
    }

    body {
        background: url('birth.png') no-repeat center center;
        background-size: cover;
    }

    .message {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        font-size: 1.8em;
        font-weight: bold;
        padding: 0 10px;
        color: #c2185b;
        z-index: 10;
        text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        width: 80%;
        max-width: 600px;
        opacity: 0;
    }

    #clickPrompt {
        top: 45%;
        animation: blink 1.5s infinite;
    }

    #message1, #message3 {
        top: 45%;
    }

    #message2 {
        top: 20%;
    }

    .birthday-image {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 250px;
        height: auto;
        border-radius: 15px;
        box-shadow: 0 0 30px rgba(255, 255, 255, 0.6);
        opacity: 0;
        z-index: 15;
    }

    .buttons {
        position: absolute;
        top: 70%;
        left: 50%;
        transform: translateX(-50%);
        display: none;
        flex-direction: column;
        gap: 15px;
        z-index: 20;
    }

    .btn {
        padding: 12px 25px;
        background: #c2185b;
        color: white;
        border: none;
        border-radius: 25px;
        font-size: 1em;
        cursor: pointer;
        transition: all 0.3s;
    }

    .btn:hover {
        background: #e91e63;
        transform: scale(1.05);
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.9);
        z-index: 100;
        justify-content: center;
        align-items: center;
    }

    .modal-content {
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        padding: 30px;
        border-radius: 15px;
        width: 85%;
        max-width: 400px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.4);
    }

    .password-input {
        width: 100%;
        padding: 12px;
        margin: 15px 0;
        border: 2px solid #ddd;
        border-radius: 8px;
        font-size: 1em;
    }

    .hint {
        font-size: 0.85em;
        color: #666;
        margin: 10px 0;
    }

    @keyframes blink {
        0%, 100% { opacity: 0.7; }
        50% { opacity: 1; }
    }

    @keyframes fadeIn {
        to { opacity: 1; }
    }

    @keyframes fadeOut {
        to { opacity: 0; }
    }

    @keyframes typing {
        from { width: 0 }
        to { width: 100% }
    }

    @keyframes blink-caret {
        from, to { border-color: transparent }
        50% { border-color: #c2185b }
    }

    @keyframes imageEntrance {
        0% {
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.8) rotate(-5deg);
            filter: blur(10px) brightness(1.4);
        }
        20% {
            opacity: 0.8;
            filter: blur(5px) brightness(1.2);
        }
        50% {
            transform: translate(-50%, -50%) scale(1.05) rotate(0deg);
            filter: blur(2px) brightness(1);
        }
        80% {
            transform: translate(-50%, -50%) scale(1) rotate(2deg);
        }
        100% {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1) rotate(0deg);
            filter: blur(0) brightness(1);
        }
    }

    @media (max-width: 480px) {
        .message {
            font-size: 1.4em;
        }
        .birthday-image {
            width: 180px;
        }
        .btn {
            padding: 10px 20px;
        }
    }
</style>
</head>
<body>

<!-- Initial Click Prompt -->
<div id="clickPrompt" class="message">Click anywhere to begin</div>

<!-- Messages -->
<div class="message" id="message1"></div>
<div class="message" id="message2"></div>
<div class="message" id="message3"></div>

<!-- Birthday Image -->
<img class="birthday-image" id="birthdayImage" src="vichi.png" alt="Birthday Girl">

<!-- Buttons -->
<div class="buttons" id="buttons">
    <button class="btn" id="playAgainBtn">Play Again</button>
    <button class="btn" id="specialMessageBtn">Special Message</button>
</div>

<!-- Password Modal -->
<div class="modal" id="passwordModal">
    <div class="modal-content">
        <h2 style="color: #c2185b; margin-bottom: 20px;">Enter Password</h2>
        <p class="hint">Hint: My birthday in MMYYYYDD format</p>
        <input type="text" class="password-input" id="passwordInput" placeholder="Enter password (e.g., 08200023)">
        <button class="btn" id="submitPassword" style="width: 100%;">Proceed</button>
    </div>
</div>

<!-- Special Message Modal -->
<div class="modal" id="specialMessageModal">
    <div class="modal-content" style="text-align: center;">
        <h2 style="color: #c2185b; margin-bottom: 30px;">This is your special day</h2>
        <button class="btn" id="specialPlayAgainBtn">Play Again</button>
    </div>
</div>

<!-- Audio -->
<audio id="bg-music">
    <source src="birthday.mp3" type="audio/mpeg">
</audio>

<script>
    // DOM Elements
    const elements = {
        clickPrompt: document.getElementById('clickPrompt'),
        message1: document.getElementById('message1'),
        message2: document.getElementById('message2'),
        message3: document.getElementById('message3'),
        birthdayImage: document.getElementById('birthdayImage'),
        buttons: document.getElementById('buttons'),
        playAgainBtn: document.getElementById('playAgainBtn'),
        specialMessageBtn: document.getElementById('specialMessageBtn'),
        passwordModal: document.getElementById('passwordModal'),
        specialMessageModal: document.getElementById('specialMessageModal'),
        passwordInput: document.getElementById('passwordInput'),
        submitPassword: document.getElementById('submitPassword'),
        specialPlayAgainBtn: document.getElementById('specialPlayAgainBtn'),
        audio: document.getElementById('bg-music')
    };

    // Constants
    const CORRECT_PASSWORD = "08200023";
    let celebrationStartTime = 0;

    // Initialize
    function init() {
        document.addEventListener('click', handleFirstClick, { once: true });
        elements.playAgainBtn.addEventListener('click', restartCelebration);
        elements.specialMessageBtn.addEventListener('click', () => elements.passwordModal.style.display = 'flex');
        elements.submitPassword.addEventListener('click', checkPassword);
        elements.specialPlayAgainBtn.addEventListener('click', restartCelebration);
    }

    // Event Handlers
    function handleFirstClick() {
        elements.clickPrompt.style.animation = 'fadeOut 0.5s forwards';
        celebrationStartTime = Date.now();
        elements.audio.volume = 0.7;
        elements.audio.play();
        startCelebrationSequence();
    }

    function restartCelebration() {
        // Reset all elements
        document.querySelectorAll('.message').forEach(el => {
            el.style.opacity = '0';
            el.style.animation = '';
            el.textContent = '';
        });
        elements.birthdayImage.style.opacity = '0';
        elements.birthdayImage.style.animation = '';
        elements.buttons.style.display = 'none';
        elements.passwordModal.style.display = 'none';
        elements.specialMessageModal.style.display = 'none';
        elements.passwordInput.value = '';
        
        // Reset audio
        elements.audio.currentTime = 0;
        
        // Show click prompt again
        elements.clickPrompt.style.display = 'block';
        elements.clickPrompt.style.animation = 'blink 1.5s infinite';
        
        // Set up new click listener
        document.addEventListener('click', handleFirstClick, { once: true });
    }

    function checkPassword() {
        if (elements.passwordInput.value === CORRECT_PASSWORD) {
            elements.passwordModal.style.display = 'none';
            elements.specialMessageModal.style.display = 'flex';
        } else {
            alert("Incorrect password! Hint: MMYYYYDD format (e.g., August 20, 0023)");
        }
    }

    // Animation Functions
    function typeWriter(element, text, speed, callback) {
        element.textContent = '';
        element.style.overflow = 'hidden';
        element.style.whiteSpace = 'nowrap';
        element.style.borderRight = '3px solid #c2185b';
        element.style.opacity = '1';
        element.style.animation = 'none';
        
        let i = 0;
        function type() {
            if (i < text.length) {
                element.textContent += text.charAt(i);
                i++;
                setTimeout(type, speed);
            } else {
                element.style.borderRight = 'none';
                if (callback) setTimeout(callback, 500);
            }
        }
        type();
    }

    function startCelebrationSequence() {
        // First message: 0-3 seconds
        setTimeout(() => {
            typeWriter(elements.message1, "One last time ✨", 80, () => {
                setTimeout(() => {
                    elements.message1.style.animation = 'fadeOut 0.5s forwards';
                    
                    // Second message: 3.5-7 seconds (0.5s gap)
                    setTimeout(() => {
                        typeWriter(elements.message2, "Wish you Happy Birthday my dearest friend ❤️", 50, () => {
                            
                            // Image: 7.5-14.5 seconds (0.5s gap)
                            setTimeout(() => {
                                elements.birthdayImage.style.animation = 'imageEntrance 7s forwards';
                                elements.birthdayImage.style.opacity = '1';
                                
                                // Hide message and image at 14.5-15 seconds
                                setTimeout(() => {
                                    elements.message2.style.animation = 'fadeOut 0.5s forwards';
                                    elements.birthdayImage.style.animation = 'fadeOut 0.5s forwards';
                                    
                                    // Third message: 15-20 seconds
                                    setTimeout(() => {
                                        typeWriter(elements.message3, "My world is better because you're in it 💖", 40, () => {
                                            // Show buttons at 20 seconds
                                            setTimeout(() => {
                                                elements.buttons.style.display = 'flex';
                                                elements.audio.pause();
                                            }, 2000);
                                        });
                                    }, 500);
                                }, 7000);
                            }, 500);
                        });
                    }, 500);
                }, 2000);
            });
        }, 0);
    }

    // Start the application
    init();
</script>
</body>
</html>
