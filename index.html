<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Vichithra</title>
<style>
    html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden;
        font-family: 'Segoe UI', sans-serif;
        text-align: center;
        background: #fff;
    }

    body {
        background: url('birth.png') no-repeat center center;
        background-size: cover;
    }

    .message {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        font-size: 1.8em;
        font-weight: bold;
        opacity: 0;
        animation-fill-mode: forwards;
        padding: 0 10px;
        color: #c2185b;
        z-index: 10;
        text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        width: 80%;
        max-width: 600px;
    }

    #message1 {
        top: 45%;
    }

    #message2 {
        top: 20%;
        margin-top: 20px;
    }

    #message3 {
        top: 45%;
        color: white;
        text-shadow: 1px 1px 3px rgba(0,0,0,0.8);
    }

    .birthday-image {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 250px;
        height: auto;
        border-radius: 15px;
        box-shadow: 0 0 30px rgba(255, 255, 255, 0.6);
        opacity: 0;
        z-index: 15;
        animation: imageAnimation 6.5s ease-in-out forwards;
    }

    @keyframes imageAnimation {
        0% {
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.8);
            filter: blur(8px) brightness(1.3);
        }
        15% {
            opacity: 0.8;
            filter: blur(6px) brightness(1.2);
        }
        50% {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
            filter: blur(0px) brightness(1);
        }
        85% {
            transform: translate(-50%, -50%) scale(1.02);
        }
        100% {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
            filter: blur(0px) brightness(1);
        }
    }

    .buttons {
        position: absolute;
        top: 70%;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 20px;
        z-index: 20;
    }

    .btn {
        padding: 10px 20px;
        background: #c2185b;
        color: white;
        border: none;
        border-radius: 5px;
        font-size: 1em;
        cursor: pointer;
        transition: all 0.3s;
    }

    .btn:hover {
        background: #e91e63;
        transform: scale(1.05);
    }

    .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.8);
        z-index: 100;
        justify-content: center;
        align-items: center;
    }

    .modal-content {
        background: white;
        padding: 30px;
        border-radius: 10px;
        width: 80%;
        max-width: 400px;
    }

    .password-input {
        width: 100%;
        padding: 10px;
        margin: 10px 0;
        border: 1px solid #ccc;
        border-radius: 5px;
    }

    .hint {
        font-size: 0.8em;
        color: #666;
        margin-bottom: 15px;
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    
    @keyframes fadeOut {
        from { opacity: 1; }
        to { opacity: 0; }
    }
    
    @keyframes typing {
        from { width: 0 }
        to { width: 100% }
    }
    
    @keyframes blink-caret {
        from, to { border-color: transparent }
        50% { border-color: #c2185b }
    }
    
    .typing-animation {
        overflow: hidden;
        white-space: nowrap;
        border-right: 3px solid #c2185b;
        animation: typing 2s steps(40, end), blink-caret .75s step-end infinite;
    }

    @media (max-width: 480px) {
        .message {
            font-size: 1.5em;
        }
        .birthday-image {
            width: 180px;
        }
        .buttons {
            flex-direction: column;
            gap: 10px;
        }
    }
</style>
</head>
<body>

<!-- Initial Click Prompt -->
<div id="clickPrompt" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; background: rgba(0,0,0,0.7); z-index: 1000;">
    <div style="background: white; padding: 30px; border-radius: 10px; text-align: center;">
        <h2>Click anywhere to start</h2>
        <p>The birthday celebration will begin</p>
    </div>
</div>

<!-- Messages -->
<div class="message" id="message1"></div>
<div class="message" id="message2"></div>
<div class="message" id="message3"></div>

<!-- Birthday Image -->
<img class="birthday-image" id="birthdayImage" src="vichi.png" alt="Birthday Girl">

<!-- Buttons -->
<div class="buttons" id="buttons" style="display: none;">
    <button class="btn" id="playAgainBtn">Play Again</button>
    <button class="btn" id="specialMessageBtn">Special Message</button>
</div>

<!-- Password Modal -->
<div class="modal" id="passwordModal">
    <div class="modal-content">
        <h2>Enter Password</h2>
        <p class="hint">Hint: My birthday in MMYYYYDD format</p>
        <input type="text" class="password-input" id="passwordInput" placeholder="Enter password">
        <button class="btn" id="submitPassword">Proceed</button>
    </div>
</div>

<!-- Special Message Modal -->
<div class="modal" id="specialMessageModal">
    <div class="modal-content">
        <h2>This is your special day</h2>
        <button class="btn" id="specialPlayAgainBtn">Play Again</button>
    </div>
</div>

<!-- Audio -->
<audio id="bg-music">
    <source src="birthday.mp3" type="audio/mpeg">
</audio>

<script>
    // DOM Elements
    const clickPrompt = document.getElementById('clickPrompt');
    const message1 = document.getElementById('message1');
    const message2 = document.getElementById('message2');
    const message3 = document.getElementById('message3');
    const birthdayImage = document.getElementById('birthdayImage');
    const buttons = document.getElementById('buttons');
    const playAgainBtn = document.getElementById('playAgainBtn');
    const specialMessageBtn = document.getElementById('specialMessageBtn');
    const passwordModal = document.getElementById('passwordModal');
    const specialMessageModal = document.getElementById('specialMessageModal');
    const passwordInput = document.getElementById('passwordInput');
    const submitPassword = document.getElementById('submitPassword');
    const specialPlayAgainBtn = document.getElementById('specialPlayAgainBtn');
    const audio = document.getElementById('bg-music');

    // Event Listeners
    document.body.addEventListener('click', startCelebration, { once: true });
    playAgainBtn.addEventListener('click', restartCelebration);
    specialMessageBtn.addEventListener('click', showPasswordModal);
    submitPassword.addEventListener('click', checkPassword);
    specialPlayAgainBtn.addEventListener('click', restartCelebration);

    // Password
    const correctPassword = "08200023";

    function startCelebration() {
        clickPrompt.style.display = 'none';
        audio.volume = 0.7;
        audio.play();
        startAnimations();
    }

    function restartCelebration() {
        // Reset all elements
        message1.style.opacity = '0';
        message1.style.animation = 'none';
        message2.style.opacity = '0';
        message2.style.animation = 'none';
        message3.style.opacity = '0';
        message3.style.animation = 'none';
        birthdayImage.style.opacity = '0';
        birthdayImage.style.animation = 'none';
        buttons.style.display = 'none';
        passwordModal.style.display = 'none';
        specialMessageModal.style.display = 'none';
        
        // Reset audio
        audio.currentTime = 0;
        
        // Start again
        startCelebration();
    }

    function showPasswordModal() {
        passwordModal.style.display = 'flex';
    }

    function checkPassword() {
        if (passwordInput.value === correctPassword) {
            passwordModal.style.display = 'none';
            specialMessageModal.style.display = 'flex';
        } else {
            alert("Incorrect password! Hint: MMYYYYDD format");
        }
    }

    function startAnimations() {
        const startTime = Date.now();
        
        // First message (1-2 seconds)
        setTimeout(() => {
            message1.textContent = "One last time âœ¨";
            message1.style.animation = "typing 1s steps(20, end), blink-caret .75s step-end infinite, fadeIn 0.5s forwards";
            
            setTimeout(() => {
                message1.style.animation = "fadeOut 0.5s forwards";
                
                // Second message (3-6 seconds)
                setTimeout(() => {
                    message2.textContent = "Wish you Happy Birthday my dearest friend â¤ï¸";
                    message2.style.animation = "typing 2s steps(40, end), blink-caret .75s step-end infinite, fadeIn 0.5s forwards";
                    
                    // Image appears at 6.5 seconds
                    setTimeout(() => {
                        birthdayImage.style.animation = "imageAnimation 6.5s forwards";
                        birthdayImage.style.opacity = "1";
                        
                        // Everything disappears at 14 seconds
                        setTimeout(() => {
                            message2.style.animation = "fadeOut 0.5s forwards";
                            birthdayImage.style.animation = "fadeOut 0.5s forwards";
                            
                            // Third message appears (14-20 seconds)
                            setTimeout(() => {
                                message3.textContent = "My world is a better place because you're in it. Thank you for making every moment feel like a fairy tale. ðŸ’–";
                                message3.style.animation = "typing 4s steps(60, end), blink-caret .75s step-end infinite, fadeIn 0.5s forwards";
                                
                                // Show buttons at 20 seconds
                                setTimeout(() => {
                                    buttons.style.display = 'flex';
                                    audio.pause();
                                }, 6000);
                            }, 500);
                        }, 7500); // 14s total (6.5s + 7.5s)
                    }, 3500); // 6.5s total (1s + 0.5s + 3s + 2s)
                }, 500); // 0.5s gap after first message
            }, 1000); // First message shows for 1s
        }, 1000); // Start first message at 1s
    }
</script>
</body>
</html>
